<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Watch Me!</title>
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <div id="root-container">
    <header>MY WATCH LIST</header>
    <nav>
      <div id="current-user">Current User: <span id="current-username">default</span></div>
      <select id="select-user">
        <option selected="selected" value=0>Switch User Profile</option>
      </select>
       OR 
      <input id="input-username" type="text" placeholder="Create new username">
      <button id="create-user">Create User</button>
      <button id="save-to-storage">Save Lists</button>
      <ul>
        <li>Find</li>
        <li>Watch</li>
        <li>Done</li>
      </ul>
    </nav>
    <main>
      <div id="find-container">
        <input type="text" id="input-search">
        <button id="btn-search">FIND</button>
        <div id="search-results"></div>
      </div>
      <div id="must-container">
        <h2>Movies I must Watch</h2>
        <div id="must-results"></div>
      </div>
      <div id="done-container">
        <h2>Movies I've Finished</h2>
        <div id="done-results"></div>
      </div>
    </main>
  </div>
  
  <script id="search-results-template" type="text/x-handlebars-template">
    <div class="movie-list-container" data-listname="{{list}}">
    {{#each data}}
      <div data-id="{{id}}" class="single-movie-container">
        <img onerror="this.src='./assets/noposter.jpg'" class="single-movie-poster" src="{{posterURL}}">
        <h3 class="single-movie-title">{{title}}</h3>
        <h3 class="single-movie-id">{{id}}</h3>
        <div class="single-movie-buttons">
          {{#if_eq ../list 'search'}}
          <button data-target="must" class="move-to-list">Must Watch</button>
          <button data-target="done" class="move-to-list">Watched</button>
          {{else}}
            {{#if_eq ../list 'must'}}
            <button data-target="done" class="move-to-list">Watched</button>
            {{else}}
            <button data-target="must" class="move-to-list">Must Watch</button>
            {{/if_eq }}
            <button class="remove-from-list">Remove</button>
          {{/if_eq }}
        </div>
      </div>
    {{/each}}
    </div>
  </script>

  <script src="./handlebars/dist/handlebars.min.js"></script>
  <script src="./jquery/dist/jquery.min.js"></script>
  <script src="./controller/main.js" type="module"></script>
</body>
</html>